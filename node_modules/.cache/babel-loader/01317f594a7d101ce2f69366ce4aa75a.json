{"ast":null,"code":"var _jsxFileName = \"D:\\\\Folders\\\\school_stuff\\\\Term 5\\\\Software Engineering\\\\ESC Project\\\\final_ESC_project\\\\src\\\\Feature_3\\\\hotelPage.js\",\n    _s = $RefreshSig$();\n\n//Matthew's code\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Header from \"./components/hotelHeader\";\nimport Address from \"./components/hotelAddress\";\nimport Rating from \"./components/hotelRating\";\nimport Description from \"./components/hotelDescription\";\nimport Amenities from \"./components/hotelAmenities\";\nimport AmenitiesRatings from \"./components/hotelAmenitiesRating\";\nimport Map from \"./components/hotelMap\";\nimport HotelRoomTable from \"./components/hotelRoomTable\";\nimport { useLocation, Navigate, Link } from \"react-router-dom\";\nimport Spinner from 'react-bootstrap/Spinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction HotelPage() {\n  _s();\n\n  const [hotelData, setHotelData] = useState(null);\n  const [roomData, setRoomData] = useState(null);\n  const [badReq, setBadReq] = useState(false);\n  const location = useLocation();\n  const hotel_id = !location.state ? null : location.state[0];\n  const dest_id = !location.state ? null : location.state[1];\n  const checkin = !location.state ? null : location.state[2];\n  const checkout = !location.state ? null : location.state[3];\n  const currency = !location.state ? null : location.state[4];\n  const guests = !location.state ? null : location.state[5];\n  const lang = \"en-US\";\n  console.log(hotel_id, dest_id, checkin, checkout, currency, guests); // let search = window.location.search;\n  // let params = new URLSearchParams(search);\n  // const hotel_id = params.get(\"hotel_id\");\n  // const dest_id = params.get(\"destination_id\");\n  // const checkin = params.get(\"checkin\");\n  // const checkout = params.get(\"checkout\");\n  // const lang = params.get(\"lang\");\n  // const currency = params.get(\"currency\");\n  // const guests = params.get(\"guests\");\n\n  const [bookingDetails, setBookingDetails] = useState({\n    hotel_id,\n    dest_id,\n    checkin,\n    checkout,\n    lang,\n    currency,\n    guests\n  });\n  const [roomLink, setRoomLink] = useState(`hotels/${hotel_id}/price?destination_id=${dest_id}&checkin=${checkin}&checkout=${checkout}&lang=${lang}&currency=${currency}&partner_id=16&country_code=SG&guests=${guests}`);\n  const [hotelLink, setHotelLink] = useState(`hotels/${hotel_id}`);\n  console.log(bookingDetails);\n  useEffect(() => {\n    let link = `hotels/${hotel_id}/price?destination_id=${dest_id}&checkin=${checkin}&checkout=${checkout}&lang=${lang}&currency=${currency}&partner_id=16&country_code=SG&guests=${guests}`;\n    setRoomLink(link);\n  }, [hotel_id, dest_id, checkin, checkout, lang, currency, guests]);\n  useEffect(() => {\n    let link = `hotels/${hotel_id}`;\n    setHotelLink(link);\n  }, [hotel_id]);\n  useEffect(() => {\n    let obj = {\n      hotel_id,\n      dest_id,\n      checkin,\n      checkout,\n      lang,\n      currency,\n      guests\n    };\n    setBookingDetails(obj);\n  }, [hotel_id, dest_id, checkin, checkout, lang, currency, guests]);\n  useEffect(() => {\n    axios.get(hotelLink).then(response => setHotelData(response.data));\n  }, [hotelLink]);\n  useEffect(() => {\n    axios.get(roomLink).then(response => setRoomData(response.data)).catch(setBadReq(true));\n  }, [roomLink]);\n  console.log(hotelData);\n\n  if (hotelData && roomData && roomData.completed) {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        name: hotelData.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Address, {\n        address: hotelData.address\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Rating, {\n        rating: hotelData.rating\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Description, {\n        description: hotelData.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AmenitiesRatings, {\n        amenities_ratings: hotelData.amenities_ratings\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Amenities, {\n        amenities: hotelData.amenities\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Map, {\n        latitude: hotelData.latitude,\n        longitude: hotelData.longitude,\n        name: hotelData.name,\n        address: hotelData.address\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HotelRoomTable, {\n        room_data: roomData,\n        booking_details: bookingDetails\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this);\n  } else if (badReq === false) {\n    /*#__PURE__*/\n    _jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        role: \"status\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }, this);\n  } else if (badReq) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"An error has occurred due to your inputs, please try another entry.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 12\n      }, this), \" \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: \"Please re-start your booking via the following link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 87\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(HotelPage, \"wGH3+HVs/u5EtI+xyQR25I8uxRk=\", false, function () {\n  return [useLocation];\n});\n\n_c = HotelPage;\nexport default HotelPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HotelPage\");","map":{"version":3,"names":["React","useState","useEffect","axios","Header","Address","Rating","Description","Amenities","AmenitiesRatings","Map","HotelRoomTable","useLocation","Navigate","Link","Spinner","HotelPage","hotelData","setHotelData","roomData","setRoomData","badReq","setBadReq","location","hotel_id","state","dest_id","checkin","checkout","currency","guests","lang","console","log","bookingDetails","setBookingDetails","roomLink","setRoomLink","hotelLink","setHotelLink","link","obj","get","then","response","data","catch","completed","name","address","rating","description","amenities_ratings","amenities","latitude","longitude"],"sources":["D:/Folders/school_stuff/Term 5/Software Engineering/ESC Project/final_ESC_project/src/Feature_3/hotelPage.js"],"sourcesContent":["//Matthew's code\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Header from \"./components/hotelHeader\";\r\nimport Address from \"./components/hotelAddress\";\r\nimport Rating from \"./components/hotelRating\";\r\nimport Description from \"./components/hotelDescription\";\r\nimport Amenities from \"./components/hotelAmenities\";\r\nimport AmenitiesRatings from \"./components/hotelAmenitiesRating\";\r\nimport Map from \"./components/hotelMap\";\r\nimport HotelRoomTable from \"./components/hotelRoomTable\";\r\nimport {useLocation, Navigate, Link} from \"react-router-dom\";\r\nimport Spinner from 'react-bootstrap/Spinner';\r\n\r\n\r\nfunction HotelPage() {\r\n\r\n  const [hotelData, setHotelData] = useState(null);\r\n  const [roomData, setRoomData] = useState(null);\r\n  const [badReq, setBadReq] = useState(false);\r\n\r\n  const location = useLocation();\r\n  const hotel_id = !location.state ? null : location.state[0];\r\n  const dest_id = !location.state ? null : location.state[1];\r\n  const checkin = !location.state ? null : location.state[2];\r\n  const checkout = !location.state ? null : location.state[3];\r\n  const currency = !location.state ? null : location.state[4];\r\n  const guests = !location.state ? null : location.state[5];\r\n  const lang = \"en-US\"\r\n\r\n  console.log(hotel_id, dest_id, checkin, checkout, currency, guests)\r\n  // let search = window.location.search;\r\n  // let params = new URLSearchParams(search);\r\n  // const hotel_id = params.get(\"hotel_id\");\r\n  // const dest_id = params.get(\"destination_id\");\r\n  // const checkin = params.get(\"checkin\");\r\n  // const checkout = params.get(\"checkout\");\r\n  // const lang = params.get(\"lang\");\r\n  // const currency = params.get(\"currency\");\r\n  // const guests = params.get(\"guests\");\r\n\r\n  const [bookingDetails, setBookingDetails] = useState({\r\n    hotel_id,\r\n    dest_id,\r\n    checkin,\r\n    checkout,\r\n    lang,\r\n    currency,\r\n    guests,\r\n  });\r\n\r\n\r\n  const [roomLink, setRoomLink] = useState(\r\n    `hotels/${hotel_id}/price?destination_id=${dest_id}&checkin=${checkin}&checkout=${checkout}&lang=${lang}&currency=${currency}&partner_id=16&country_code=SG&guests=${guests}`\r\n  );\r\n  const [hotelLink, setHotelLink] = useState(`hotels/${hotel_id}`);\r\n\r\n  console.log(bookingDetails);\r\n\r\n  useEffect(() => {\r\n    let link = `hotels/${hotel_id}/price?destination_id=${dest_id}&checkin=${checkin}&checkout=${checkout}&lang=${lang}&currency=${currency}&partner_id=16&country_code=SG&guests=${guests}`;\r\n    setRoomLink(link);\r\n  }, [hotel_id, dest_id, checkin, checkout, lang, currency, guests]);\r\n\r\n  useEffect(() => {\r\n    let link = `hotels/${hotel_id}`;\r\n    setHotelLink(link);\r\n  }, [hotel_id]);\r\n\r\n  useEffect(() => {\r\n    let obj = { hotel_id, dest_id, checkin, checkout, lang, currency, guests };\r\n    setBookingDetails(obj);\r\n  }, [hotel_id, dest_id, checkin, checkout, lang, currency, guests]);\r\n\r\n  useEffect(() => {\r\n    axios.get(hotelLink).then((response) => setHotelData(response.data));\r\n  }, [hotelLink]);\r\n\r\n  useEffect(() => {\r\n    axios.get(roomLink).then((response) => setRoomData(response.data)).catch(setBadReq(true));\r\n  }, [roomLink]);\r\n\r\n  console.log(hotelData);\r\n\r\n  if (hotelData && roomData && roomData.completed) {\r\n    return (\r\n      <React.Fragment>\r\n        <Header name={hotelData.name} />\r\n        <Address address={hotelData.address} />\r\n        <Rating rating={hotelData.rating} />\r\n        <Description description={hotelData.description} />\r\n        <AmenitiesRatings amenities_ratings={hotelData.amenities_ratings} />\r\n        <Amenities amenities={hotelData.amenities} />\r\n        <Map\r\n          latitude={hotelData.latitude}\r\n          longitude={hotelData.longitude}\r\n          name={hotelData.name}\r\n          address={hotelData.address}\r\n        />\r\n        <HotelRoomTable room_data={roomData} booking_details={bookingDetails} />\r\n      </React.Fragment>\r\n    );\r\n  } \r\n  else if (badReq === false) {\r\n    <div>\r\n   <div>loading...</div>\r\n   <Spinner animation=\"border\" role=\"status\"></Spinner>\r\n   </div>\r\n }  \r\n  else if (badReq) {\r\n    return (\r\n      <div><p>An error has occurred due to your inputs, please try another entry.</p> <Link to = \"/\">Please re-start your booking via the following link</Link></div>\r\n    )\r\n  }\r\n  \r\n}\r\n\r\nexport default HotelPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}